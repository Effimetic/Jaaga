{% extends "base.html" %}

{% block title %}Welcome to Nashath Booking - Speed Boat Ticketing{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="text-center py-4">
  <h2 class="fw-bold"><i class="fas fa-ship me-2 text-primary"></i>Discover Maldives by Sea</h2>
  <p class="text-muted">Book speed boat tickets to explore the beautiful islands of Maldives</p>
</div>

<!-- Search Card -->
<div class="card shadow-sm mb-4">
  <div class="card-header text-center bg-light fw-semibold">
    Search for Boats
  </div>
  <div class="card-body">
    <form id="searchForm">
      <div class="mb-3">
        <label for="fromIsland" class="form-label">From</label>
        <select class="form-select" id="fromIsland" required>
          <option value="">Select departure island</option>
          <option value="male">Male</option>
          <option value="hulhumale">Hulhumale</option>
          <option value="villimale">Villimale</option>
          <option value="maafushi">Maafushi</option>
          <option value="gulhi">Gulhi</option>
          <option value="thulusdhoo">Thulusdhoo</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="toIsland" class="form-label">To</label>
        <select class="form-select" id="toIsland" required>
          <option value="">Select destination island</option>
          <option value="maafushi">Maafushi</option>
          <option value="gulhi">Gulhi</option>
          <option value="thulusdhoo">Thulusdhoo</option>
          <option value="male">Male</option>
          <option value="hulhumale">Hulhumale</option>
          <option value="villimale">Villimale</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="travelDate" class="form-label">Travel Date</label>
        <input type="date" class="form-control" id="travelDate" required>
      </div>

      <div class="mb-4">
        <label for="passengers" class="form-label">Passengers</label>
        <select class="form-select" id="passengers" required>
          <option value="1">1 Passenger</option>
          <option value="2">2 Passengers</option>
          <option value="3">3 Passengers</option>
          <option value="4">4 Passengers</option>
          <option value="5">5 Passengers</option>
          <option value="6">6+ Passengers</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary w-100">
        <i class="fas fa-search me-2"></i>Search Boats
      </button>
    </form>
  </div>
</div>

<!-- Popular Routes -->
<div class="text-center my-4">
  <h4 class="fw-bold">Popular Routes</h4>
  <p class="text-muted">Most traveled routes in the Maldives</p>
</div>

<div class="row g-3">
  {% for route in [
    {"from":"Male","to":"Maafushi","price":"150","duration":"45","desc":"Popular tourist destination"},
    {"from":"Male","to":"Gulhi","price":"120","duration":"35","desc":"Perfect for day trips and snorkeling"},
    {"from":"Male","to":"Thulusdhoo","price":"180","duration":"60","desc":"Famous for surfing and beaches"}
  ] %}
  <div class="col-12">
    <div class="card shadow-sm">
      <div class="row g-0">
        <div class="col-4">
          <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400" class="img-fluid rounded-start h-100 object-fit-cover" alt="{{ route.to }}">
        </div>
        <div class="col-8">
          <div class="card-body">
            <h6 class="card-title">{{ route.from }} â†’ {{ route.to }} <span class="badge bg-success float-end">MVR {{ route.price }}</span></h6>
            <p class="mb-1 text-muted"><i class="fas fa-clock me-1"></i>{{ route.duration }} minutes</p>
            <p class="mb-0 small text-muted">{{ route.desc }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Available Boats -->
<div class="text-center my-4">
  <h4 class="fw-bold">Available Boats</h4>
  <p class="text-muted">Modern speed boats with comfortable seating</p>
</div>

<div class="row g-3">
  {% for boat in [
    {"name":"Alpha","seats":25},
    {"name":"Beta","seats":30},
    {"name":"Gamma","seats":20},
    {"name":"Delta","seats":35}
  ] %}
  <div class="col-12">
    <div class="card shadow-sm">
      <div class="row g-0">
        <div class="col-4">
          <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400" class="img-fluid rounded-start h-100 object-fit-cover" alt="{{ boat.name }}">
        </div>
        <div class="col-8">
          <div class="card-body">
            <h6 class="card-title">Speed Boat {{ boat.name }}</h6>
            <p class="mb-1 text-muted"><i class="fas fa-user-group me-1"></i>{{ boat.seats }} passengers</p>
            <p class="mb-0">
              <span class="badge bg-success me-1">AC</span>
              <span class="badge bg-info text-dark me-1">WiFi</span>
              <span class="badge bg-warning text-dark">Refreshments</span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Features Section -->
<div class="text-center my-4">
  <h4 class="fw-bold">Why Choose Nashath Booking?</h4>
  <p class="text-muted">Experience seamless speed boat ticketing across the Maldives</p>
</div>

<div class="row row-cols-1 g-3">
  <div class="col d-flex">
    <div class="me-3">
      <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
        <i class="fas fa-sms"></i>
      </div>
    </div>
    <div>
      <h6 class="fw-bold mb-1">Easy SMS Login</h6>
      <p class="mb-0 text-muted">Quick and secure login with SMS verification. No passwords to remember!</p>
    </div>
  </div>

  <div class="col d-flex">
    <div class="me-3">
      <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
        <i class="fas fa-credit-card"></i>
      </div>
    </div>
    <div>
      <h6 class="fw-bold mb-1">Secure Payments</h6>
      <p class="mb-0 text-muted">Multiple payment options including BML integration.</p>
    </div>
  </div>

  <div class="col d-flex">
    <div class="me-3">
      <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
        <i class="fas fa-qrcode"></i>
      </div>
    </div>
    <div>
      <h6 class="fw-bold mb-1">QR Code Tickets</h6>
      <p class="mb-0 text-muted">Digital tickets with QR codes for easy validation and boarding.</p>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  document.getElementById('travelDate').min = new Date().toISOString().split('T')[0];

  document.getElementById('searchForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const fromIsland = document.getElementById('fromIsland').value;
    const toIsland = document.getElementById('toIsland').value;
    const travelDate = document.getElementById('travelDate').value;
    const passengers = document.getElementById('passengers').value;

    if (!fromIsland || !toIsland || !travelDate || !passengers) {
      showAlert('Please fill in all fields', 'danger');
      return;
    }

    showAlert(`Searching from ${fromIsland} to ${toIsland} on ${travelDate} for ${passengers} passenger(s)...`, 'info');
  });

  document.getElementById('fromIsland').addEventListener('change', function () {
    const value = this.value;
    const to = document.getElementById('toIsland');
    to.innerHTML = `<option value="">Select destination island</option>`;

    if (value === 'male') {
      ['maafushi', 'gulhi', 'thulusdhoo', 'hulhumale', 'villimale'].forEach(i => {
        const opt = document.createElement('option');
        opt.value = i;
        opt.text = i.charAt(0).toUpperCase() + i.slice(1);
        to.appendChild(opt);
      });
    }
  });
</script>
{% endblock %}
